# OpenWebUI Three-Roles Edition - Environment Configuration Template
# Copy this file to .env and update the values for your deployment

# ===========================================
# Application Configuration
# ===========================================

# Application Settings
APP_NAME="OpenWebUI Three-Roles Edition"
APP_VERSION="0.6.5"
ENVIRONMENT="production"  # production, development, testing

# Server Configuration
HOST="0.0.0.0"
PORT=8080
WEBUI_URL="http://localhost:8080"

# ===========================================
# Database Configuration
# ===========================================

# Database URL (SQLite by default)
DATABASE_URL="sqlite:///./open-webui.db"

# PostgreSQL Example (uncomment and configure if using PostgreSQL)
# DATABASE_URL="postgresql://username:password@localhost:5432/openwebui"

# ===========================================
# Authentication & Security
# ===========================================

# JWT Secret Key (CHANGE THIS IN PRODUCTION!)
JWT_SECRET_KEY="your-super-secret-jwt-key-change-this-in-production"

# JWT Expiration (in seconds)
JWT_EXPIRATION=86400  # 24 hours

# User Registration
ENABLE_SIGNUP=true
DEFAULT_USER_ROLE="user"

# OAuth2 Configuration (optional)
ENABLE_OAUTH=false
OAUTH_PROVIDER=""  # google, github, etc.
OAUTH_CLIENT_ID=""
OAUTH_CLIENT_SECRET=""
OAUTH_REDIRECT_URI=""

# ===========================================
# AI Model Configuration
# ===========================================

# Ollama Configuration
OLLAMA_BASE_URL="http://localhost:11434"
ENABLE_OLLAMA=true

# OpenAI Configuration
OPENAI_API_BASE_URL="https://api.openai.com/v1"
OPENAI_API_KEY=""

# Anthropic Configuration
ANTHROPIC_API_KEY=""

# Google AI Configuration
GOOGLE_AI_API_KEY=""

# AUTOMATIC1111_BASE_URL="http://localhost:7860"

# ===========================================
# Three-Roles Security System
# ===========================================

# Audit Logging Level
AUDIT_LOG_LEVEL="DETAILED"  # NONE, BASIC, DETAILED

# Login Security
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_DURATION=900  # 15 minutes in seconds

# Session Security
SESSION_TIMEOUT=3600  # 1 hour in seconds

# ===========================================
# File Upload & Storage
# ===========================================

# File Upload Configuration
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=104857600  # 100MB in bytes
ALLOWED_FILE_TYPES="txt,pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,gif"

# ===========================================
# Email Configuration (for notifications)
# ===========================================

# SMTP Configuration
SMTP_ENABLED=false
SMTP_HOST=""
SMTP_PORT=587
SMTP_USERNAME=""
SMTP_PASSWORD=""
SMTP_FROM_EMAIL=""

# ===========================================
# Monitoring & Logging
# ===========================================

# Log Level
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR

# Audit Log Retention (days)
AUDIT_LOG_RETENTION_DAYS=90

# Login Log Retention (days)
LOGIN_LOG_RETENTION_DAYS=30

# ===========================================
# Advanced Configuration
# ===========================================

# CORS Configuration
CORS_ORIGINS="http://localhost:3000,http://localhost:8080"

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # 1 minute in seconds

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=300  # 5 minutes in seconds

# ===========================================
# Development Settings
# ===========================================

# Debug Mode (set to false in production)
DEBUG=false

# Development Features
ENABLE_SWAGGER=true
ENABLE_REDOC=true

# DO NOT TRACK
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

# ===========================================
# Notes for Deployment
# ===========================================

# 1. Copy this file to .env
# 2. Update all values marked with ""
# 3. For production:
#    - Set ENVIRONMENT="production"
#    - Set DEBUG=false
#    - Generate a strong JWT_SECRET_KEY
#    - Configure proper database URL
#    - Set up email notifications if needed
# 4. For three-roles system:
#    - First registered user becomes system_admin
#    - Additional admin roles require manual assignment
#    - Audit logs are accessible only to audit_admin role